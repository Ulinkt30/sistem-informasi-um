<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XII TKJ 3</title>
  <link rel="stylesheet" href="ASET/mobile.css">
  <link rel="stylesheet" href="ASET/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
  <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
</head>

<body>


  <div class="container">
    <!-- Header Section -->


    <header class="header">
      <div class="menu" id="menu-icon">
        <img src="ASET/png/NavIcon.png" alt="Menu Icon" class="menu-icon">
      </div>





      <div class="welcome-text">Hi, visitor!<br>WELCOME</div>
      <div class="menu">
        <img src="ASET/png/avatar.png" alt="Menu Icon" class="menu-icon">
      </div>
    </header>
    <!-- Tambahkan di dalam div.container -->
    <nav id="navbar" class="navbar hidden">
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#gallery">Gallery</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <!-- Home Section -->
    <div class="home">

      <section id="home">

        <h1>SISFOR 22 UM</h1>
        <div class="mahasiswa">
          <div class="number lk" id="AngkaGradientBlue">13</div>
          <div class="number pt" id="AngkaGradientPink">14</div>
          <div class="number mh" id="AngkaGradientPink">22</div>
        </div>

        <!-- Buttons Section -->
        <div class="buttons">
          <!-- Class Instagram -->
          <div class="button-container instagram-container" id="instagram-container">
            <div class="logo-top-left">
              <img src="ASET/svg/Instagram.svg" alt="Instagram"
                style="width: auto; height: 40px; filter: brightness(0) invert(1);">
            </div>
            <div class="logo-top-right">
              <img src="ASET/png/next.png" alt="Next"
                style="height: 16px; width: 16px; filter: brightness(0) invert(1);">
            </div>
            <a href="#" class="button instagram">Class Instagram</a>
          </div>
          

          <!-- Old Website -->
          <div class="kanan">
            <div class="button-container old-website-container" id="old-website-container">
              <div class="logo-top-left">
                <img src="ASET/png/link.png" alt="Link" style="width: 24px; height: 24px; filter: brightness(0) invert(1);">
              </div>
              <div class="logo-top-right">
                <img src="ASET/png/next.png" alt="Next" style="height: 16px; width: 16px; filter: brightness(0) invert(1);">
              </div>
              <a href="https://www.universitasmerangin.ac.id/" class="button old-website">Univ Website</a>
            </div>

            <!-- Text Anonim -->
            <div class="button-container text-anonim-container" id="text-anonim-container">
              <div class="logo-top-left">
                <img src="ASET/png/paper-plane.png" alt="Link" style="width: 24px; height: 24px; filter: brightness(0) invert(1);">
              </div>
              <div class="logo-top-right">
                <img src="ASET/png/next.png" alt="Next" style="height: 16px; width: 16px; filter: brightness(0) invert(1);">
              </div>
              <a href="#anonim" class="button text-anonim">Text Anonim</a>
            </div>
          </div>
        </div>
        <div class="galeritext">
          Class Gallery
        </div>
      </section>
    </div>
    <div class="gallericlas">
      <section id="#about">
        <div class="gallery-section">

          <div class="swiper-container">
            <div class="swiper-wrapper">
              <!-- Slide 1 -->
              <div class="swiper-slide">
                <img src="ASET/image/foto (1).jpg" alt="Gallery Image 1">
              </div>
              <!-- Slide 2 -->
              <div class="swiper-slide">
                <img src="ASET/image/foto (2).jpg" alt="Gallery Image 1">
              </div>
              <!-- Slide 3 -->
              <div class="swiper-slide">
                <img src="ASET/image/foto (3).jpg" alt="Gallery Image 1">
              </div>
              <!-- Slide 4 -->
              <div class="swiper-slide">
                <img src="ASET/image/foto (4).jpg" alt="Gallery Image 1">
              </div>
              <div class="swiper-slide">
                <img src="ASET/image/foto (5).jpg" alt="Gallery Image 1">
              </div>
              <div class="swiper-slide">
                <img src="ASET/image/foto (6).jpg" alt="Gallery Image 1">
              </div>
              <div class="swiper-slide">
                <img src="ASET/image/foto (7).jpg" alt="Gallery Image 1">
              </div>
              <div class="swiper-slide">
                <img src="ASET/image/foto (8).jpg" alt="Gallery Image 1">
              </div>
              <div class="swiper-slide">
                <img src="ASET/image/foto (9).jpg" alt="Gallery Image 1">
              </div>
              <div class="swiper-slide">
                <img src="ASET/image/foto (10).jpg" alt="Gallery Image 1">
              </div>
            </div>
          </div>
          <!-- Modal Popup -->
          <div class="send-button-container">
            <a href="https://wa.me/6282185475782?" target="_blank"
              class="send-button">
              Send
              <img src="ASET/png/upload.png" alt="WhatsApp Icon" class="send-icon">
            </a>
          </div>

          <div id="image-popup" class="image-popup hidden">
            <span id="close-popup" class="close-popup">&times;</span>
            <img id="popup-image" class="popup-image" src="" alt="Popup Image">
          </div>
        </div>
      </section>
    </div>


    <div class="jadwal">
      <section id="jadwal">

        <div class="schedule-section">
          <h3 id="nama-hari"></h3> <!-- Nama hari -->
          <div id="deskripsi-jadwal" class="jadwal-list"></div> <!-- Daftar kegiatan -->
        </div>
      </section>
    </div>
    <div class="chat">
      <h3>anonim chat</h3>
      <section id="anonim">
        <div id="chat-messages" class="chat-messages"></div>
        <div class="input-area">
          <textarea id="message-input" placeholder="Kirim Pesan"></textarea>
          <button id="send-btn">
            <img src="ASET/png/paper-plane.png" alt="Kirim" />
          </button>
        </div>
      </section>


    </div>



  </div>
  <!-- Footer Section -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-top">
      <!-- Logo -->
      <div class="footer-logo">
        <img src="ASET/image/logo si.jpg" alt="Logo" class="logo" />
      </div>
      <!-- Credit By -->
      <div class="footer-credit">
        <p>Credit by</p>
        <a href=""><p class="footer-name">Anonim</p></a>
      </div>
      <!-- Follow Us -->
      <div class="footer-follow">
        <p>Follow us</p>
        <p>
          <a href="https://www.instagram.com/sisteminformasi_um?igsh=MWh1NzN6MGN6cDF6ag==" target="_blank" aria-label="Instagram">
           Instagram
          </a>
        </p>
      </div>
    </div>
    <!-- Bottom Text -->
    <div class="footer-bottom">
      <p>&copy; 2024 XII TKJ 3 | All Rights Reserved</p>
    </div>
  </div>
</footer>


  <script src="ASET/script.js"></script>

  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";
    import { getDatabase, ref, push, set, onChildAdded, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCUC7y_fuLSYt7bAeGwZYBHCG5-gF0v2t0",
      authDomain: "chat-anonymous-1e934.firebaseapp.com",
      databaseURL: "https://chat-anonymous-1e934-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "chat-anonymous-1e934",
      storageBucket: "chat-anonymous-1e934.firebasestorage.app",
      messagingSenderId: "1045465534338",
      appId: "1:1045465534338:web:0abc3477c96d9be338c99b",
      measurementId: "G-ZBXPKX7BES"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);

    // DOM Elements
    const messageInput = document.getElementById('message-input');
    const sendBtn = document.getElementById('send-btn');
    const chatMessages = document.getElementById('chat-messages');

    // Messages Reference
    const messagesRef = ref(database, 'messages');

    // Send Message Function
    function sendMessage() {
      const messageText = messageInput.value.trim();

      if (messageText && messageText.length <= 500) {
        const newMessageRef = push(messagesRef);

        set(newMessageRef, {
          text: messageText,
          timestamp: serverTimestamp()
        });

        messageInput.value = '';
      } else {
        alert('Pesan harus diisi dan maksimal 500 karakter!');
      }
    }

    // Event Listeners
    sendBtn.addEventListener('click', sendMessage);
    messageInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });

    // Display Messages
    onChildAdded(messagesRef, (snapshot) => {
      const message = snapshot.val();
      const messageElement = document.createElement('div');

      messageElement.classList.add('message');
      messageElement.innerHTML = `
                <div class="message-text">${escapeHTML(message.text)}</div>
                <div class="message-timestamp">
                    ${formatTimestamp(message.timestamp)}
                </div>
            `;

      chatMessages.appendChild(messageElement);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    });

    // HTML Escape Function
    function escapeHTML(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    // Timestamp Formatting Function
    function formatTimestamp(timestamp) {
      if (!timestamp) return '';
      const date = new Date(timestamp);
      return date.toLocaleString('id-ID', {
        hour: '2-digit',
        minute: '2-digit',
        day: 'numeric',
        month: 'short',
        year: 'numeric'
      });
    }

  </script>
  <script>
    // Ambil elemen menu-icon dan navbar
    const menuIcon = document.getElementById('menu-icon');
    const navbar = document.getElementById('navbar');

    // Fungsi untuk menutup navbar
    const closeNavbar = () => {
      navbar.classList.remove('visible');
      navbar.classList.add('hidden');
    };

    // Event listener untuk membuka navbar
    menuIcon.addEventListener('click', (e) => {
      e.stopPropagation(); // Mencegah klik pada ikon menutup navbar
      navbar.classList.toggle('visible');
      navbar.classList.toggle('hidden');
    });

    // Event listener untuk klik di luar navbar
    document.addEventListener('click', (e) => {
      if (!navbar.contains(e.target) && !menuIcon.contains(e.target)) {
        closeNavbar();
      }
    });

  </script>
  <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
</body>

</html>